<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      // https://github.com/GoogleChromeLabs/tti-polyfill
      !(function() {
        if ('PerformanceLongTaskTiming' in window) {
          var g = (window.__tti = { e: [] });
          g.o = new PerformanceObserver(function(l) {
            g.e = g.e.concat(l.getEntries());
          });
          g.o.observe({ entryTypes: ['longtask'] });
        }
      })();

    </script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />
    <meta name="theme-color" content="#000" />

    <title>[[.AppTitle]]</title>

    <base href="[[.AppSubUrl]]/" />

    <link
      rel="preload"
      href="public/fonts/roboto/RxZJdnzeo3R5zSexge8UUVtXRa8TVwTICgirnJhmVJw.woff2"
      as="font"
      crossorigin
    />

    <link rel="icon" type="image/png" href="[[.FavIcon]]" />
    <link rel="apple-touch-icon" sizes="180x180" href="[[.AppleTouchIcon]]" />
    <link rel="mask-icon" href="public/img/grafana_mask_icon.svg" color="#F05A28" />

    <link rel="stylesheet" href="public/build/grafana.[[ .Theme ]].<%= webpack.hash %>.css" />

    <script>
      performance.mark('css done blocking');
    </script>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="msapplication-config" content="public/img/browserconfig.xml" />
  </head>

  <body class="theme-[[ .Theme ]] [[.AppNameBodyClass]]">
    <style>
      .preloader {
        height: 100%;
        flex-direction: column;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .preloader__enter {
        opacity: 0;
        animation-name: preloader-fade-in;
        animation-iteration-count: 1;
        animation-duration: 0.9s;
        animation-delay: 1.35s;
        animation-fill-mode: forwards;
      }

      .preloader__bounce {
        text-align: center;
        animation-name: preloader-bounce;
        animation-duration: 0.9s;
        animation-iteration-count: infinite;
      }

    .preloader__logo {
      display: inline-block;
      animation-name: preloader-squash;
      animation-duration: 2s;
      animation-iteration-count: infinite;
      width: 60px;
      height: 60px;
      background-repeat: no-repeat;
      background-size: contain;
      background-image:  url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjIyMCIKICAgaGVpZ2h0PSIxMjEiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzYiCiAgIHNvZGlwb2RpOmRvY25hbWU9IklSSVNfTG9nby5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuNCAoNWRhNjg5YzMxMywgMjAxOS0wMS0xNCkiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEyIj4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTAiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIyNzg3IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjE3NjYiCiAgICAgaWQ9Im5hbWVkdmlldzgiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjEuOTUwNDEzMiIKICAgICBpbmtzY2FwZTpjeD0iMTEwIgogICAgIGlua3NjYXBlOmN5PSI2MC41IgogICAgIGlua3NjYXBlOndpbmRvdy14PSI4MiIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTExIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnNiIgLz4KICA8ZwogICAgIGZpbGw9IiM0MkMwRUIiCiAgICAgZmlsbC1ydWxlPSJub256ZXJvIgogICAgIGlkPSJnNCI+CiAgICA8cGF0aAogICAgICAgZD0iTTU5Ljg2NCAxMTMuNzk2VjgzLjk3YzAtMTIuODc4IDIuNDc3LTI0Ljk1NyA5Ljg1NC0zNC4xOTFDNzcuMDk1IDQwLjU0NCA4Ni41ODQgMzYgOTYuMTIzIDM2YzMuNjM2IDAgNi4wMDcgMi43IDYuMDA3IDYuMTkyIDAgMy4zMzQtMi4zNTIgNS43NTgtNC45OTggNi4xNTNDODIuMSA1MC41ODggNzIuMDM2IDYwLjYzIDcyLjAzNiA4My45N3YyOS44MjZjMCAzLjMzNC0yLjUyOSA2LjE5Mi02LjAwNyA2LjE5Mi0zLjQ3NyAwLTYuMTY1LTIuNjk5LTYuMTY1LTYuMTkyek0xMjIuODEgMTEzLjY5OHYtNzIuNDJjMC0zLjM4NyAyLjY2OC02LjI5IDUuOTY0LTYuMjkgMy40NTIgMCA2LjEyIDIuNzQyIDYuMTIgNi4yOXY3Mi40MmMwIDMuNTQ4LTIuNTExIDYuMjktNS45NjMgNi4yOS0zLjQ1MyAwLTYuMTItMi43NDItNi4xMi02LjI5ek0xNyAxMTMuNzFWNzAuMjljMC0zLjM4NyAyLjY2OC02LjI5IDUuOTYzLTYuMjkgMy40NTIgMCA2LjEyIDIuNzQyIDYuMTIgNi4yOXY0My40MmMwIDMuNTQ4LTIuNTExIDYuMjktNS45NjMgNi4yOVMxNyAxMTcuMjU4IDE3IDExMy43MXpNMTkxLjA2NiAxMjFjLTEwLjY5MyAwLTIyLjQ4Ni0zLjk2NS0zMS4yOTItMTAuMzA4LTEuMS0uNzkzLTIuMjAyLTIuMzc5LTIuMjAyLTQuNDQgMC0yLjg1NSAyLjM2LTUuMjMzIDUuMzQ3LTUuMjMzIDEuMSAwIDIuMjAxLjMxNyAyLjk4OC45NTEgOC4zMzQgNS43MSAxNi45ODIgOC43MjIgMjUuNzg4IDguNzIyIDkuNzUgMCAxNi44MjYtNS4wNzQgMTYuODI2LTEzLjAwNHYtLjMxN2MwLTguMjQ2LTkuNTkyLTExLjQxOC0yMC4yODUtMTQuNDMtMTIuNzM3LTMuNjQ4LTI2Ljg5LTguMDg4LTI2Ljg5LTIzLjE1NHYtLjMxN2MwLTE0LjExNCAxMS42MzctMjMuNDcgMjcuNjc2LTIzLjQ3IDguNjQ5IDAgMTguMDg0IDIuNjk2IDI1Ljk0NiA2Ljk3OCAxLjU3My45NTEgMi45ODggMi42OTYgMi45ODggNS4wNzQgMCAyLjg1NS0yLjM1OSA1LjIzMy01LjM0NyA1LjIzM2E2LjA0IDYuMDQgMCAwIDEtMi42NzMtLjYzNGMtNi45MTktMy45NjQtMTQuMzEtNi4zNDMtMjEuMjI4LTYuMzQzLTkuNTkzIDAtMTUuNzI1IDUuMDc0LTE1LjcyNSAxMS44OTN2LjMxOGMwIDcuNzcgMTAuMDY0IDEwLjc4MyAyMC45MTQgMTQuMTEzQzIwNi40NzcgNzYuNDM4IDIyMCA4MS4zNTQgMjIwIDk2LjEwMnYuMzE4YzAgMTUuNTQtMTIuNzM3IDI0LjU4LTI4LjkzNCAyNC41OHpNMjMuNSA0N0MzNi40NzkgNDcgNDcgMzYuNDc5IDQ3IDIzLjVTMzYuNDc5IDAgMjMuNSAwIDAgMTAuNTIxIDAgMjMuNSAxMC41MjEgNDcgMjMuNSA0N3ptMC0xMkMxNy4xMjQgMzUgMTIgMjkuODI2IDEyIDIzLjVTMTcuMTI0IDEyIDIzLjUgMTIgMzUgMTcuMTc0IDM1IDIzLjUgMjkuODc2IDM1IDIzLjUgMzV6IgogICAgICAgaWQ9InBhdGgyIiAvPgogIDwvZz4KPC9zdmc+Cg==');
    }

      .preloader__text {
        margin-top: 16px;
        font-weight: 500;
        font-size: 14px;
        font-family: Sans-serif;
        opacity: 0;
        animation-name: preloader-fade-in;
        animation-duration: 0.9s;
        animation-delay: 1.8s;
        animation-fill-mode: forwards;
      }

      .theme-light .preloader__text {
        color: #d8d9da;
      }

      .theme-dark .preloader__text {
        color: #d8d9da;
      }

      @keyframes preloader-fade-in {
        0% {
          opacity: 0;
          /*animation-timing-function: linear;*/
          animation-timing-function: cubic-bezier(0, 0, 0.5, 1);
        }
        100% {
          opacity: 1;
        }
      }

      @keyframes preloader-bounce {
        from,
        to {
          transform: translateY(0px);
          animation-timing-function: cubic-bezier(0.3, 0, 0.1, 1);
        }
        50% {
          transform: translateY(-50px);
          animation-timing-function: cubic-bezier(0.9, 0, 0.7, 1);
        }
      }

      @keyframes preloader-squash {
        0% {
          transform: scaleX(1.3) scaleY(0.8);
          animation-timing-function: cubic-bezier(0.3, 0, 0.1, 1);
          transform-origin: bottom center;
        }
        15% {
          transform: scaleX(0.75) scaleY(1.25);
          animation-timing-function: cubic-bezier(0, 0, 0.7, 0.75);
          transform-origin: bottom center;
        }
        55% {
          transform: scaleX(1.05) scaleY(0.95);
          animation-timing-function: cubic-bezier(0.9, 0, 1, 1);
          transform-origin: top center;
        }
        95% {
          transform: scaleX(0.75) scaleY(1.25);
          animation-timing-function: cubic-bezier(0, 0, 0, 1);
          transform-origin: bottom center;
        }
        100% {
          transform: scaleX(1.3) scaleY(0.8);
          transform-origin: bottom center;
          animation-timing-function: cubic-bezier(0, 0, 0.7, 1);
        }
      }

      /* Fail info */
      .preloader__text--fail {
        display: none;
      }

      /* stop logo animation */
      .preloader--done .preloader__bounce,
      .preloader--done .preloader__logo {
        animation-name: none;
        display: none;
      }

      .preloader--done .preloader__logo,
      .preloader--done .preloader__text {
        display: none;
        color: #ff5705 !important;
        font-size: 15px;
      }

      .preloader--done .preloader__text--fail {
        display: block;
      }

      [ng\:cloak],
      [ng-cloak],
      .ng-cloak {
        display: none !important;
      }
    </style>

    <div class="preloader">
      <div class="preloader__enter">
        <div class="preloader__bounce">
          <div class="preloader__logo"></div>
        </div>
      </div>
      <div class="preloader__text">Loading iris</div>
      <div class="preloader__text preloader__text--fail">
        <p>
          <strong>If you're seeing this Grafana has failed to load its application files</strong>
          <br />
          <br />
        </p>
        <p>
          1. This could be caused by your reverse proxy settings.<br /><br />
          2. If you host grafana under subpath make sure your grafana.ini root_url setting includes subpath<br />
          <br />
          3. If you have a local dev build make sure you build frontend using: yarn start, yarn start:hot, or yarn
          build<br />
          <br />
          4. Sometimes restarting grafana-server can help<br />
        </p>
      </div>
    </div>

    <grafana-app class="grafana-app" ng-cloak>
      <sidemenu class="sidemenu"></sidemenu>
      <app-notifications-list class="page-alert-list"></app-notifications-list>
      <search-wrapper></search-wrapper>

      <div class="main-view">
				<div ng-view class="scroll-canvas"></div>
      </div>
    </grafana-app>

    <script>
        window.grafanaBootData = {
          user: [[.User]],
          settings: [[.Settings]],
          navTree: [[.NavTree]]
        };

      // In case the js files fails to load the code below will show an info message.
        window.onload = function() {
          var preloader = document.getElementsByClassName("preloader");
          if (preloader.length) {
            preloader[0].className = "preloader preloader--done";
          }
        };
    </script>

    [[if .GoogleTagManagerId]]
    <!-- Google Tag Manager -->
    <script>
      dataLayer = [
        {
          IsSignedIn: '[[.User.IsSignedIn]]',
          Email: '[[.User.Email]]',
          Name: '[[.User.Name]]',
          UserId: '[[.User.Id]]',
          OrgId: '[[.User.OrgId]]',
          OrgName: '[[.User.OrgName]]',
        },
      ];
    </script>
    <noscript>
      <iframe
        src="//www.googletagmanager.com/ns.html?id=[[.GoogleTagManagerId]]"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe>
    </noscript>
    <script>
      (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', '[[.GoogleTagManagerId]]');
    </script>
    <!-- End Google Tag Manager -->
    [[end]]

    <%
    for (key in htmlWebpackPlugin.files.chunks) { %><%
      if (htmlWebpackPlugin.files.jsIntegrity) { %>
    <script
      src="<%= htmlWebpackPlugin.files.chunks[key].entry %>"
      type="text/javascript"
      integrity="<%= htmlWebpackPlugin.files.jsIntegrity[htmlWebpackPlugin.files.js.indexOf(htmlWebpackPlugin.files.chunks[key].entry)] %>"
      crossorigin="<%= webpackConfig.output.crossOriginLoading %>"></script><%
      } else { %>
    <script src="<%= htmlWebpackPlugin.files.chunks[key].entry %>" type="text/javascript"></script><%
      } %><%
    } %>
    <script>
      performance.mark('js done blocking');
    </script>
  </body>
</html>
